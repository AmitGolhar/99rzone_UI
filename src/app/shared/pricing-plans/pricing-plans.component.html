<div class="pricing-wrapper">
  <div class="billing-toggle">
    <label class="switch">
      <input 
        type="checkbox"
        (change)="onBillingToggle($event)"
        [checked]="billingCycle === 'yearly'" 
      />
      <span class="slider"></span>
    </label>

    <div class="billing-labels">
      <span [class.active]="billingCycle === 'monthly'">Monthly</span>
      <span [class.active]="billingCycle === 'yearly'">Yearly (save)</span>
    </div>
  </div>

  <div class="plans-grid">
    <ng-container *ngFor="let plan of plans">
      <div class="plan-card" [class.highlight]="plan.highlight">
        
        <div class="plan-header">
          <h3>{{ plan.name }}</h3>
          <div class="price">
            <span class="currency">{{ currency }}</span>
            <span class="amount">{{ getPrice(plan) | number }}</span>
            <span class="period">/ {{ billingCycle === 'monthly' ? 'mo' : 'yr' }}</span>
          </div>
          <div class="users">
            {{ plan.usersIncluded === null ? 'Unlimited users' : (plan.usersIncluded + ' users') }}
          </div>
        </div>

        <ul class="features">
          <li *ngFor="let f of plan.features">{{ f }}</li>
        </ul>

        <div class="cta-wrap">
          <button class="cta" (click)="onSelect(plan)">
            {{ plan.ctaText || 'Get Started' }}
          </button>
        </div>

      </div>
    </ng-container>
  </div>
</div>
