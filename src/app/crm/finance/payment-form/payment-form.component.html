<div class="card p-3">
  <h5>âž• Add Payment Record</h5>

  <form (ngSubmit)="save()">
    <div class="row g-3">
      <div class="col-md-6">
        <label>Client Name</label>
        <input class="form-control" [(ngModel)]="payment.clientName" name="clientName" required />
      </div>

      <div class="col-md-6">
        <label>Property</label>
        <input class="form-control" [(ngModel)]="payment.propertyName" name="propertyName" />
      </div>

      <div class="col-md-4">
        <label>Total Amount</label>
        <input type="number" class="form-control" [(ngModel)]="payment.totalAmount" name="totalAmount"
               (input)="calculatePending()" required />
      </div>

      <div class="col-md-4">
        <label>Paid Amount</label>
        <input type="number" class="form-control" [(ngModel)]="payment.paidAmount" name="paidAmount"
               (input)="calculatePending()" required />
      </div>

      <div class="col-md-4">
        <label>Pending Amount</label>
        <input type="number" class="form-control" [(ngModel)]="payment.pendingAmount" name="pendingAmount" readonly />
      </div>

      <div class="col-md-4">
        <label>Status</label>
        <input class="form-control" [(ngModel)]="payment.status" name="status" readonly />
      </div>

      <div class="col-md-4">
        <label>Next Due Date</label>
        <input type="date" class="form-control" [(ngModel)]="payment.nextDueDate" name="nextDueDate" />
      </div>

      <div class="col-md-4">
        <label>Payment Mode</label>
        <select class="form-select" [(ngModel)]="payment.paymentMode" name="paymentMode">
          <option value="">Select</option>
          <option>Cash</option>
          <option>Cheque</option>
          <option>Bank Transfer</option>
          <option>UPI</option>
        </select>
      </div>

      <div class="col-12">
        <label>Notes</label>
        <textarea class="form-control" rows="2" [(ngModel)]="payment.notes" name="notes"></textarea>
      </div>
    </div>

    <div class="mt-3">
      <button class="btn btn-primary">{{ isEditMode ? 'Update Payment' : 'Save Payment' }}</button>
      <a routerLink="/crm/payments" class="btn btn-outline-secondary ms-2">Cancel</a>
    </div>
  </form>
</div>
